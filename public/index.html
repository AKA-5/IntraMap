<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Create and share interactive indoor floor plans with QR code navigation">
  <link rel="icon" type="image/x-icon" href="icons/favicon.ico">
  <link rel="icon" type="image/svg+xml" href="icons/logo.svg">
  <link rel="apple-touch-icon" href="icons/logo.svg">
  <script>
    window.INTRAMAP_API_URL = 'https://intramap-api.kaleempk555.workers.dev';
  </script>
  <title>IntraMap - Indoor Floor Plan Navigation</title>
  <link rel="stylesheet" href="css/common.css">
  <style>
    /* Landing Page Specific Styles */
    .hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: var(--spacing-2xl) var(--spacing-md);
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="%23ffffff" fill-opacity="0.05"><path d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/></g></g></svg>');
      opacity: 0.4;
    }

    .hero-content {
      max-width: 800px;
      position: relative;
      z-index: 1;
    }

    .hero h1 {
      font-size: 3.5rem;
      font-weight: 700;
      margin-bottom: var(--spacing-lg);
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    .hero p {
      font-size: 1.25rem;
      margin-bottom: var(--spacing-xl);
      opacity: 0.95;
      line-height: 1.6;
    }

    .hero-buttons {
      display: flex;
      gap: var(--spacing-md);
      justify-content: center;
      flex-wrap: wrap;
    }

    .hero .btn {
      font-size: 1.125rem;
      padding: 16px 32px;
      min-height: 56px;
    }

    .btn-hero-primary {
      background: white;
      color: #667eea;
      font-weight: 600;
    }

    .btn-hero-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }

    .btn-hero-secondary {
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: 2px solid white;
      backdrop-filter: blur(10px);
    }

    .btn-hero-secondary:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: translateY(-3px);
    }

    .features {
      padding: var(--spacing-2xl) var(--spacing-md);
      background: var(--gray-50);
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: var(--spacing-xl);
      max-width: 1200px;
      margin: 0 auto;
    }

    .feature-card {
      background: white;
      padding: var(--spacing-xl);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-md);
      transition: all var(--transition-base);
      text-align: center;
    }

    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-xl);
    }

    .feature-icon {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto var(--spacing-lg);
      font-size: 2rem;
    }

    .feature-card h3 {
      color: var(--gray-900);
      margin-bottom: var(--spacing-sm);
    }

    .feature-card p {
      color: var(--gray-600);
      margin-bottom: 0;
    }

    .qr-section {
      padding: var(--spacing-2xl) var(--spacing-md);
      background: white;
    }

    .qr-container {
      max-width: 600px;
      margin: 0 auto;
      text-align: center;
    }

    .qr-container h2 {
      color: var(--gray-900);
      margin-bottom: var(--spacing-md);
    }

    .qr-input-group {
      display: flex;
      gap: var(--spacing-md);
      margin-bottom: var(--spacing-lg);
    }

    .qr-input-group input {
      flex: 1;
    }

    #qrCodeDisplay {
      margin-top: var(--spacing-lg);
      padding: var(--spacing-lg);
      background: var(--gray-50);
      border-radius: var(--radius-lg);
      display: none;
    }

    #qrCodeDisplay.visible {
      display: block;
    }

    #qrCodeCanvas {
      margin: var(--spacing-md) auto;
      display: block;
    }

    .footer {
      background: var(--gray-900);
      color: white;
      padding: var(--spacing-xl) var(--spacing-md);
      text-align: center;
    }

    .footer p {
      margin: 0;
      opacity: 0.8;
    }

    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2.5rem;
      }

      .hero p {
        font-size: 1.125rem;
      }

      .hero-buttons {
        flex-direction: column;
        width: 100%;
        max-width: 300px;
      }

      .qr-input-group {
        flex-direction: column;
      }
    }
  </style>
</head>

<body>
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-content">
      <h1>
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 8px;">
          <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
          <circle cx="12" cy="10" r="3"/>
        </svg>
        IntraMap
      </h1>
      <p>Create beautiful interactive indoor floor plans and help visitors navigate your building with ease. Perfect for
        shopping malls, hospitals, universities, and office buildings.</p>
      <div class="hero-buttons">
        <a href="admin.html" class="btn btn-hero-primary">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 6px;">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
            <line x1="9" y1="9" x2="15" y2="9"/>
            <line x1="9" y1="15" x2="15" y2="15"/>
            <line x1="12" y1="9" x2="12" y2="15"/>
          </svg>
          Create Floor Plan
        </a>
        <a href="viewer.html?building=sample" class="btn btn-hero-secondary">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 6px;">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
            <polyline points="9 22 9 12 15 12 15 22"/>
          </svg>
          View Live Demo
        </a>
      </div>
      <p style="margin-top: 20px; font-size: 14px; opacity: 0.9;">
        Try our <strong>Centaurus Shopping Mall</strong> demo with 3 floors and 30+ locations
      </p>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features">
    <div class="container">
      <h2 class="text-center mb-xl" style="color: var(--gray-900); font-size: 2.5rem;">Why Choose IntraMap?</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
          </div>
          <h3>Easy to Use</h3>
          <p>Drag-and-drop interface. Create professional floor plans in minutes without any design experience.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
              <line x1="12" y1="18" x2="12.01" y2="18"/>
            </svg>
          </div>
          <h3>Mobile-First</h3>
          <p>Optimized for smartphones. Visitors can navigate your building right from their phones.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"/>
              <path d="m21 21-4.35-4.35"/>
            </svg>
          </div>
          <h3>Smart Search</h3>
          <p>Find places instantly by name or category. Search for "food", "restroom", or any custom tag.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
              <circle cx="12" cy="10" r="3"/>
            </svg>
          </div>
          <h3>QR Navigation</h3>
          <p>Generate QR codes for instant access. Visitors scan and start navigating immediately.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
              <line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
          </div>
          <h3>100% Free</h3>
          <p>No hidden costs, no subscriptions. Host unlimited buildings and serve unlimited visitors.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
            </svg>
          </div>
          <h3>Lightning Fast</h3>
          <p>Loads in seconds even on slow connections. Works offline after first visit.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- QR Generator Section -->
  <section class="qr-section">
    <div class="qr-container">
      <h2>Generate QR Code</h2>
      <p class="text-gray">Already created a floor plan? Generate a QR code to share with visitors.</p>

      <div class="qr-input-group">
        <input type="text" id="buildingIdInput" placeholder="Enter building ID (e.g., centaurus-mall)"
          autocomplete="off">
        <button class="btn btn-primary" onclick="generateQR()">Generate QR</button>
      </div>

      <div id="qrCodeDisplay">
        <h3>Scan to Navigate</h3>
        <div id="qrCodeCanvas" style="display: flex; justify-content: center; margin: 20px 0;"></div>
        <p class="text-sm text-gray">Share this QR code with your visitors</p>
        <button class="btn btn-secondary btn-sm" onclick="downloadQR()">Download QR Code</button>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2026 IntraMap. Built with care for better indoor navigation.</p>
      <p class="text-sm" style="margin-top: var(--spacing-sm);">Free forever. No registration required.</p>
    </div>
  </footer>

  <!-- QR Code Library -->
  <script src="lib/qrcode.min.js"></script>
  <script src="js/api.js"></script>

  <script>
    // QR Code Generation
    let qrCode = null;

    function generateQR() {
      const buildingId = document.getElementById('buildingIdInput').value.trim();

      if (!buildingId) {
        alert('Please enter a building ID');
        return;
      }

      // Get viewer URL
      const viewerURL = api.getViewerURL(buildingId);

      // Clear previous QR code
      const container = document.getElementById('qrCodeCanvas');
      const display = document.getElementById('qrCodeDisplay');
      
      // Clear container
      container.innerHTML = '';

      // Generate new QR code
      qrCode = new QRCode(container, {
        text: viewerURL,
        width: 256,
        height: 256,
        colorDark: "#000000",
        colorLight: "#ffffff",
        correctLevel: QRCode.CorrectLevel.H
      });

      // Show QR code display
      display.classList.add('visible');

      // Scroll to QR code
      display.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function downloadQR() {
      const container = document.getElementById('qrCodeCanvas');
      const canvas = container.querySelector('canvas');
      if (!canvas) {
        alert('Please generate a QR code first');
        return;
      }

      const link = document.createElement('a');
      link.download = 'intramap-qr-code.png';
      link.href = canvas.toDataURL();
      link.click();
    }

    // Allow Enter key to generate QR
    document.getElementById('buildingIdInput').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        generateQR();
      }
    });
  </script>
</body>

</html>